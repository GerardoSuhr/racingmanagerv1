{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gerar\\\\Documents\\\\Proyectos\\\\Racing Manager\\\\V1\\\\frontend\\\\src\\\\components\\\\CircuitSVG.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CircuitSVG({\n  pathData,\n  bounds,\n  startLine,\n  carPosition,\n  sectorStartPoints,\n  carPoints\n}) {\n  const viewWidth = 1000;\n  const viewHeight = 600;\n  const padding = 150;\n  if (!pathData || !bounds) return null;\n  const contentWidth = bounds.width;\n  const contentHeight = bounds.height;\n  const scale = Math.min((viewWidth - 2 * padding) / contentWidth, (viewHeight - 2 * padding) / contentHeight);\n\n  // Dibuja una línea perpendicular en (x, y)\n  const drawMarkerLine = (x, y, angleDeg, length = 20, stroke = \"black\", width = 4) => {\n    const rad = angleDeg * Math.PI / 180;\n    const dx = length / 2 * Math.cos(rad + Math.PI / 2);\n    const dy = length / 2 * Math.sin(rad + Math.PI / 2);\n    return /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: x - dx,\n      y1: y - dy,\n      x2: x + dx,\n      y2: y + dy,\n      stroke: stroke,\n      strokeWidth: width\n    }, `${x}-${y}-${stroke}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Calcula ángulo entre dos puntos\n  const angleBetween = (p1, p2) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n    return Math.atan2(dy, dx) * 180 / Math.PI;\n  };\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: viewWidth,\n    height: viewHeight,\n    viewBox: `0 0 ${viewWidth} ${viewHeight}`,\n    style: {\n      border: '1px solid #ccc'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      transform: `translate(${padding}, ${viewHeight - padding}) scale(${scale}, -${scale})`,\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        d: pathData,\n        stroke: \"gray\",\n        strokeWidth: 15,\n        fill: \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), (sectorStartPoints === null || sectorStartPoints === void 0 ? void 0 : sectorStartPoints[0]) && (carPoints === null || carPoints === void 0 ? void 0 : carPoints[sectorStartPoints[0].index + 1]) && drawMarkerLine(sectorStartPoints[0].x, sectorStartPoints[0].y, angleBetween(carPoints[sectorStartPoints[0].index], carPoints[sectorStartPoints[0].index + 1]), 40, 'red', 8), sectorStartPoints === null || sectorStartPoints === void 0 ? void 0 : sectorStartPoints.slice(1).map((p, i) => {\n        const next = carPoints === null || carPoints === void 0 ? void 0 : carPoints[p.index + 1];\n        if (!next) return null;\n        const angle = angleBetween(carPoints[p.index], next);\n        return drawMarkerLine(p.x, p.y, angle, 20, 'black', 4);\n      }), carPosition && /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: carPosition.x,\n        cy: carPosition.y,\n        r: \"15\",\n        fill: \"blue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_c = CircuitSVG;\nvar _c;\n$RefreshReg$(_c, \"CircuitSVG\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","CircuitSVG","pathData","bounds","startLine","carPosition","sectorStartPoints","carPoints","viewWidth","viewHeight","padding","contentWidth","width","contentHeight","height","scale","Math","min","drawMarkerLine","x","y","angleDeg","length","stroke","rad","PI","dx","cos","dy","sin","x1","y1","x2","y2","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","angleBetween","p1","p2","atan2","viewBox","style","border","children","transform","d","fill","index","slice","map","p","i","next","angle","cx","cy","r","_c","$RefreshReg$"],"sources":["C:/Users/gerar/Documents/Proyectos/Racing Manager/V1/frontend/src/components/CircuitSVG.js"],"sourcesContent":["import React from 'react';\r\n\r\nexport default function CircuitSVG({ pathData, bounds, startLine, carPosition, sectorStartPoints, carPoints }) {\r\n  const viewWidth = 1000;\r\n  const viewHeight = 600;\r\n  const padding = 150;\r\n\r\n  if (!pathData || !bounds) return null;\r\n\r\n  const contentWidth = bounds.width;\r\n  const contentHeight = bounds.height;\r\n\r\n  const scale = Math.min(\r\n    (viewWidth - 2 * padding) / contentWidth,\r\n    (viewHeight - 2 * padding) / contentHeight\r\n  );\r\n\r\n  // Dibuja una línea perpendicular en (x, y)\r\n  const drawMarkerLine = (x, y, angleDeg, length = 20, stroke = \"black\", width = 4) => {\r\n    const rad = (angleDeg * Math.PI) / 180;\r\n    const dx = (length / 2) * Math.cos(rad + Math.PI / 2);\r\n    const dy = (length / 2) * Math.sin(rad + Math.PI / 2);\r\n    return (\r\n      <line\r\n        key={`${x}-${y}-${stroke}`}\r\n        x1={x - dx}\r\n        y1={y - dy}\r\n        x2={x + dx}\r\n        y2={y + dy}\r\n        stroke={stroke}\r\n        strokeWidth={width}\r\n      />\r\n    );\r\n  };\r\n\r\n  // Calcula ángulo entre dos puntos\r\n  const angleBetween = (p1, p2) => {\r\n    const dx = p2.x - p1.x;\r\n    const dy = p2.y - p1.y;\r\n    return (Math.atan2(dy, dx) * 180) / Math.PI;\r\n  };\r\n\r\n  return (\r\n    <svg\r\n      width={viewWidth}\r\n      height={viewHeight}\r\n      viewBox={`0 0 ${viewWidth} ${viewHeight}`}\r\n      style={{ border: '1px solid #ccc' }}\r\n    >\r\n      <g transform={`translate(${padding}, ${viewHeight - padding}) scale(${scale}, -${scale})`}>\r\n        {/* Circuito */}\r\n        <path d={pathData} stroke=\"gray\" strokeWidth={15} fill=\"none\" />\r\n\r\n        {/* Línea de meta roja en el inicio del primer sector */}\r\n        {sectorStartPoints?.[0] && carPoints?.[sectorStartPoints[0].index + 1] && (\r\n          drawMarkerLine(\r\n            sectorStartPoints[0].x,\r\n            sectorStartPoints[0].y,\r\n            angleBetween(\r\n              carPoints[sectorStartPoints[0].index],\r\n              carPoints[sectorStartPoints[0].index + 1]\r\n            ),\r\n            40,\r\n            'red',\r\n            8\r\n          )\r\n        )}\r\n\r\n        {/* Líneas negras al inicio de los demás sectores */}\r\n        {sectorStartPoints?.slice(1).map((p, i) => {\r\n          const next = carPoints?.[p.index + 1];\r\n          if (!next) return null;\r\n          const angle = angleBetween(carPoints[p.index], next);\r\n          return drawMarkerLine(p.x, p.y, angle, 20, 'black', 4);\r\n        })}\r\n\r\n        {/* Auto */}\r\n        {carPosition && (\r\n          <circle cx={carPosition.x} cy={carPosition.y} r=\"15\" fill=\"blue\" />\r\n        )}\r\n      </g>\r\n    </svg>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}